<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en"><head>

<meta charset="utf-8">
<meta name="generator" content="quarto-1.2.269">

<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes">

<meta name="author" content="Gustavo Bruges">
<meta name="dcterms.date" content="2022-12-27">

<title>knn_machinelearning - Tidymodels</title>
<style>
code{white-space: pre-wrap;}
span.smallcaps{font-variant: small-caps;}
div.columns{display: flex; gap: min(4vw, 1.5em);}
div.column{flex: auto; overflow-x: auto;}
div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
ul.task-list{list-style: none;}
ul.task-list li input[type="checkbox"] {
  width: 0.8em;
  margin: 0 0.8em 0.2em -1.6em;
  vertical-align: middle;
}
pre > code.sourceCode { white-space: pre; position: relative; }
pre > code.sourceCode > span { display: inline-block; line-height: 1.25; }
pre > code.sourceCode > span:empty { height: 1.2em; }
.sourceCode { overflow: visible; }
code.sourceCode > span { color: inherit; text-decoration: inherit; }
div.sourceCode { margin: 1em 0; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
pre > code.sourceCode { white-space: pre-wrap; }
pre > code.sourceCode > span { text-indent: -5em; padding-left: 5em; }
}
pre.numberSource code
  { counter-reset: source-line 0; }
pre.numberSource code > span
  { position: relative; left: -4em; counter-increment: source-line; }
pre.numberSource code > span > a:first-child::before
  { content: counter(source-line);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
    color: #aaaaaa;
  }
pre.numberSource { margin-left: 3em; border-left: 1px solid #aaaaaa;  padding-left: 4px; }
div.sourceCode
  {   }
@media screen {
pre > code.sourceCode > span > a:first-child::before { text-decoration: underline; }
}
code span.al { color: #ff0000; font-weight: bold; } /* Alert */
code span.an { color: #60a0b0; font-weight: bold; font-style: italic; } /* Annotation */
code span.at { color: #7d9029; } /* Attribute */
code span.bn { color: #40a070; } /* BaseN */
code span.bu { color: #008000; } /* BuiltIn */
code span.cf { color: #007020; font-weight: bold; } /* ControlFlow */
code span.ch { color: #4070a0; } /* Char */
code span.cn { color: #880000; } /* Constant */
code span.co { color: #60a0b0; font-style: italic; } /* Comment */
code span.cv { color: #60a0b0; font-weight: bold; font-style: italic; } /* CommentVar */
code span.do { color: #ba2121; font-style: italic; } /* Documentation */
code span.dt { color: #902000; } /* DataType */
code span.dv { color: #40a070; } /* DecVal */
code span.er { color: #ff0000; font-weight: bold; } /* Error */
code span.ex { } /* Extension */
code span.fl { color: #40a070; } /* Float */
code span.fu { color: #06287e; } /* Function */
code span.im { color: #008000; font-weight: bold; } /* Import */
code span.in { color: #60a0b0; font-weight: bold; font-style: italic; } /* Information */
code span.kw { color: #007020; font-weight: bold; } /* Keyword */
code span.op { color: #666666; } /* Operator */
code span.ot { color: #007020; } /* Other */
code span.pp { color: #bc7a00; } /* Preprocessor */
code span.sc { color: #4070a0; } /* SpecialChar */
code span.ss { color: #bb6688; } /* SpecialString */
code span.st { color: #4070a0; } /* String */
code span.va { color: #19177c; } /* Variable */
code span.vs { color: #4070a0; } /* VerbatimString */
code span.wa { color: #60a0b0; font-weight: bold; font-style: italic; } /* Warning */
</style>


<script src="../../site_libs/quarto-nav/quarto-nav.js"></script>
<script src="../../site_libs/quarto-nav/headroom.min.js"></script>
<script src="../../site_libs/clipboard/clipboard.min.js"></script>
<script src="../../site_libs/quarto-search/autocomplete.umd.js"></script>
<script src="../../site_libs/quarto-search/fuse.min.js"></script>
<script src="../../site_libs/quarto-search/quarto-search.js"></script>
<meta name="quarto:offset" content="../../">
<script src="../../site_libs/quarto-html/quarto.js"></script>
<script src="../../site_libs/quarto-html/popper.min.js"></script>
<script src="../../site_libs/quarto-html/tippy.umd.min.js"></script>
<script src="../../site_libs/quarto-html/anchor.min.js"></script>
<link href="../../site_libs/quarto-html/tippy.css" rel="stylesheet">
<link href="../../site_libs/quarto-html/quarto-syntax-highlighting.css" rel="stylesheet" id="quarto-text-highlighting-styles">
<script src="../../site_libs/bootstrap/bootstrap.min.js"></script>
<link href="../../site_libs/bootstrap/bootstrap-icons.css" rel="stylesheet">
<link href="../../site_libs/bootstrap/bootstrap.min.css" rel="stylesheet" id="quarto-bootstrap" data-mode="light">
<script id="quarto-search-options" type="application/json">{
  "location": "navbar",
  "copy-button": false,
  "collapse-after": 3,
  "panel-placement": "end",
  "type": "overlay",
  "limit": 20,
  "language": {
    "search-no-results-text": "No results",
    "search-matching-documents-text": "matching documents",
    "search-copy-link-title": "Copy link to search",
    "search-hide-matches-text": "Hide additional matches",
    "search-more-match-text": "more match in this document",
    "search-more-matches-text": "more matches in this document",
    "search-clear-button-title": "Clear",
    "search-detached-cancel-button-title": "Cancel",
    "search-submit-button-title": "Submit"
  }
}</script>


<link rel="stylesheet" href="../../styles.css">
</head>

<body class="nav-fixed fullcontent">

<div id="quarto-search-results"></div>
  <header id="quarto-header" class="headroom fixed-top">
    <nav class="navbar navbar-expand-lg navbar-dark ">
      <div class="navbar-container container-fluid">
      <div class="navbar-brand-container">
    <a class="navbar-brand" href="../../index.html">
    <span class="navbar-title">knn_machinelearning</span>
    </a>
  </div>
          <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarCollapse" aria-controls="navbarCollapse" aria-expanded="false" aria-label="Toggle navigation" onclick="if (window.quartoToggleHeadroom) { window.quartoToggleHeadroom(); }">
  <span class="navbar-toggler-icon"></span>
</button>
          <div class="collapse navbar-collapse" id="navbarCollapse">
            <ul class="navbar-nav navbar-nav-scroll ms-auto">
  <li class="nav-item">
    <a class="nav-link" href="../../about.html">
 <span class="menu-text">About</span></a>
  </li>  
  <li class="nav-item compact">
    <a class="nav-link" href="https://github.com/"><i class="bi bi-github" role="img">
</i> 
 <span class="menu-text"></span></a>
  </li>  
  <li class="nav-item compact">
    <a class="nav-link" href="https://twitter.com"><i class="bi bi-twitter" role="img">
</i> 
 <span class="menu-text"></span></a>
  </li>  
</ul>
              <div id="quarto-search" class="" title="Search"></div>
          </div> <!-- /navcollapse -->
      </div> <!-- /container-fluid -->
    </nav>
</header>
<!-- content -->
<header id="title-block-header" class="quarto-title-block default page-columns page-full">
  <div class="quarto-title-banner page-columns page-full">
    <div class="quarto-title column-body">
      <h1 class="title">Tidymodels</h1>
                                <div class="quarto-categories">
                <div class="quarto-category">code</div>
              </div>
                  </div>
  </div>
    
  
  <div class="quarto-title-meta">

      <div>
      <div class="quarto-title-meta-heading">Author</div>
      <div class="quarto-title-meta-contents">
               <p>Gustavo Bruges </p>
            </div>
    </div>
      
      <div>
      <div class="quarto-title-meta-heading">Published</div>
      <div class="quarto-title-meta-contents">
        <p class="date">December 27, 2022</p>
      </div>
    </div>
    
      
    </div>
    
  
  </header><div id="quarto-content" class="quarto-container page-columns page-rows-contents page-layout-article page-navbar">
<!-- sidebar -->
<!-- margin-sidebar -->
    
<!-- main -->
<main class="content quarto-banner-title-block" id="quarto-document-content">




<section id="machine-learning-con-tidymodels" class="level2">
<h2 class="anchored" data-anchor-id="machine-learning-con-tidymodels">Machine Learning con Tidymodels</h2>
<section id="introducción-a-los-k-vecinos-más-cercanos" class="level3">
<h3 class="anchored" data-anchor-id="introducción-a-los-k-vecinos-más-cercanos">Introducción a los k-vecinos más cercanos</h3>
<p>En essta sección aprenderemos sobre la clasificación mediante k-NN (vecinos más cercanos cercanos). A diferencia de muchos algoritmos de clasificación, k-nearest neighbors no realiza ningún aprendizaje. Simplemente almacena los datos de entrenamiento textualmente. Los ejemplos de prueba sin etiquetar se emparejan con los con los registros más similares del conjunto de entrenamiento mediante una función de distancia, y al ejemplo sin etiquetar se le asigna la etiqueta de sus vecinos.</p>
<p>A pesar de que k-NN es un algoritmo muy sencillo, es capaz de abordar</p>
<p>tareas extremadamente complejas, como la identificación de masas cancerosas.</p>
<p>A pesar de la simplicidad de esta idea, los métodos de vecino más cercano son extremadamente potentes. Se han utilizado con éxito para:</p>
<p>- Aplicaciones de visión por ordenador, como el reconocimiento óptico de caracteres y reconocimiento facial, tanto en imágenes fijas como en vídeo</p>
<p>- Sistemas de recomendación que predicen si a una persona le gustará una película o una canción</p>
<p>- Identificación de patrones en datos genéticos para detectar proteínas o enfermedades específicas.</p>
<p>En general, los clasificadores por vecino más próximo (k-NN) son adecuados para tareas de clasificación en las que las relaciones entre las características y las clases objetivo son numerosas, complicadas o extremadamente difíciles de entender, pero los elementos de clases similares tienden a ser bastante homogéneos.</p>
</section>
</section>
<section id="cargar-paquetes" class="level2">
<h2 class="anchored" data-anchor-id="cargar-paquetes">Cargar paquetes</h2>
<hr>
<div class="cell">
<div class="sourceCode cell-code" id="cb1"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb1-1"><a href="#cb1-1" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(tidymodels)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stderr">
<pre><code>── Attaching packages ────────────────────────────────────── tidymodels 1.0.0 ──</code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code>✔ broom        1.0.0     ✔ recipes      1.0.1
✔ dials        1.0.0     ✔ rsample      1.0.0
✔ dplyr        1.0.9     ✔ tibble       3.1.8
✔ ggplot2      3.3.6     ✔ tidyr        1.2.0
✔ infer        1.0.2     ✔ tune         1.0.0
✔ modeldata    1.0.1     ✔ workflows    1.0.0
✔ parsnip      1.0.0     ✔ workflowsets 1.0.0
✔ purrr        0.3.4     ✔ yardstick    1.0.0</code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code>── Conflicts ───────────────────────────────────────── tidymodels_conflicts() ──
✖ purrr::discard() masks scales::discard()
✖ dplyr::filter()  masks stats::filter()
✖ dplyr::lag()     masks stats::lag()
✖ recipes::step()  masks stats::step()
• Dig deeper into tidy modeling with R at https://www.tmwr.org</code></pre>
</div>
<div class="sourceCode cell-code" id="cb5"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb5-1"><a href="#cb5-1" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(tidyverse)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stderr">
<pre><code>── Attaching packages
───────────────────────────────────────
tidyverse 1.3.2 ──</code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code>✔ readr   2.1.2     ✔ forcats 0.5.1
✔ stringr 1.5.0     
── Conflicts ────────────────────────────────────────── tidyverse_conflicts() ──
✖ readr::col_factor() masks scales::col_factor()
✖ purrr::discard()    masks scales::discard()
✖ dplyr::filter()     masks stats::filter()
✖ stringr::fixed()    masks recipes::fixed()
✖ dplyr::lag()        masks stats::lag()
✖ readr::spec()       masks yardstick::spec()</code></pre>
</div>
<div class="sourceCode cell-code" id="cb8"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb8-1"><a href="#cb8-1" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(janitor)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stderr">
<pre><code>
Attaching package: 'janitor'

The following objects are masked from 'package:stats':

    chisq.test, fisher.test</code></pre>
</div>
<div class="sourceCode cell-code" id="cb10"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb10-1"><a href="#cb10-1" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(skimr)</span>
<span id="cb10-2"><a href="#cb10-2" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(GGally)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stderr">
<pre><code>Registered S3 method overwritten by 'GGally':
  method from   
  +.gg   ggplot2</code></pre>
</div>
</div>
<section id="datos-de-wisconsin-data-set" class="level3">
<h3 class="anchored" data-anchor-id="datos-de-wisconsin-data-set">Datos de wisconsin data set:</h3>
<p>El examen sistemático del cáncer de mama permite diagnosticar y tratar la enfermedad antes de que cause síntomas perceptibles. El proceso de detección precoz consiste en examinar el tejido mamario en busca de bultos o masas anormales. Si se detecta un bulto, se realiza una biopsia por aspiración con aguja fina, en la que se utiliza una aguja hueca para extraer una pequeña muestra de células de la masa. A continuación, el personal de salud examina las células al microscopio para determinar si la masa puede ser maligna o benigna.</p>
<p>Si el aprendizaje automático pudiera automatizar la identificación de células cancerosas, supondría un beneficio considerable para el sistema sanitario.</p>
<p>Es probable que los procesos automatizados de detección, lo que permitiría a los médicos dedicar menos tiempo al diagnóstico y más al tratamiento.</p>
<p>A continuación veremos un plantearemos el algoritmo k-NN en el diánostico de cáncer de mama de muestras provenientes de Breast Cancer Wisconsin <a href="http://archive.ics.uci.edu/ml." class="uri">http://archive.ics.uci.edu/ml.</a></p>
</section>
<section id="carga-de-los-datos" class="level3">
<h3 class="anchored" data-anchor-id="carga-de-los-datos">Carga de los datos</h3>
<div class="cell">
<div class="sourceCode cell-code" id="cb12"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb12-1"><a href="#cb12-1" aria-hidden="true" tabindex="-1"></a>wbc <span class="ot">&lt;-</span> <span class="fu">read_csv</span>(<span class="st">"https://raw.githubusercontent.com/rspanhol/wisconsin-breast-cancer/main/wisconsin.csv"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stderr">
<pre><code>New names:
• `` -&gt; `...33`</code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code>Warning: One or more parsing issues, see `problems()` for details</code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code>Rows: 568 Columns: 33
── Column specification ────────────────────────────────────────────────────────
Delimiter: ","
chr  (1): diagnosis
dbl (31): id, radius_mean, texture_mean, perimeter_mean, area_mean, smoothne...
lgl  (1): ...33

ℹ Use `spec()` to retrieve the full column specification for this data.
ℹ Specify the column types or set `show_col_types = FALSE` to quiet this message.</code></pre>
</div>
<div class="sourceCode cell-code" id="cb16"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb16-1"><a href="#cb16-1" aria-hidden="true" tabindex="-1"></a><span class="co">#Visionado de los datos</span></span>
<span id="cb16-2"><a href="#cb16-2" aria-hidden="true" tabindex="-1"></a><span class="fu">glimpse</span>(wbc)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>Rows: 568
Columns: 33
$ id                      &lt;dbl&gt; 842302, 842517, 84300903, 84348301, 84358402, …
$ diagnosis               &lt;chr&gt; "M", "M", "M", "M", "M", "M", "M", "M", "M", "…
$ radius_mean             &lt;dbl&gt; 17.990, 20.570, 19.690, 11.420, 20.290, 12.450…
$ texture_mean            &lt;dbl&gt; 10.38, 17.77, 21.25, 20.38, 14.34, 15.70, 19.9…
$ perimeter_mean          &lt;dbl&gt; 122.80, 132.90, 130.00, 77.58, 135.10, 82.57, …
$ area_mean               &lt;dbl&gt; 1001.0, 1326.0, 1203.0, 386.1, 1297.0, 477.1, …
$ smoothness_mean         &lt;dbl&gt; 0.11840, 0.08474, 0.10960, 0.14250, 0.10030, 0…
$ compactness_mean        &lt;dbl&gt; 0.27760, 0.07864, 0.15990, 0.28390, 0.13280, 0…
$ concavity_mean          &lt;dbl&gt; 0.30010, 0.08690, 0.19740, 0.24140, 0.19800, 0…
$ `concave points_mean`   &lt;dbl&gt; 0.14710, 0.07017, 0.12790, 0.10520, 0.10430, 0…
$ symmetry_mean           &lt;dbl&gt; 0.2419, 0.1812, 0.2069, 0.2597, 0.1809, 0.2087…
$ fractal_dimension_mean  &lt;dbl&gt; 0.07871, 0.05667, 0.05999, 0.09744, 0.05883, 0…
$ radius_se               &lt;dbl&gt; 1.0950, 0.5435, 0.7456, 0.4956, 0.7572, 0.3345…
$ texture_se              &lt;dbl&gt; 0.9053, 0.7339, 0.7869, 1.1560, 0.7813, 0.8902…
$ perimeter_se            &lt;dbl&gt; 8.589, 3.398, 4.585, 3.445, 5.438, 2.217, 3.18…
$ area_se                 &lt;dbl&gt; 153.40, 74.08, 94.03, 27.23, 94.44, 27.19, 53.…
$ smoothness_se           &lt;dbl&gt; 0.006399, 0.005225, 0.006150, 0.009110, 0.0114…
$ compactness_se          &lt;dbl&gt; 0.049040, 0.013080, 0.040060, 0.074580, 0.0246…
$ concavity_se            &lt;dbl&gt; 0.05373, 0.01860, 0.03832, 0.05661, 0.05688, 0…
$ `concave points_se`     &lt;dbl&gt; 0.015870, 0.013400, 0.020580, 0.018670, 0.0188…
$ symmetry_se             &lt;dbl&gt; 0.03003, 0.01389, 0.02250, 0.05963, 0.01756, 0…
$ fractal_dimension_se    &lt;dbl&gt; 0.006193, 0.003532, 0.004571, 0.009208, 0.0051…
$ radius_worst            &lt;dbl&gt; 25.38, 24.99, 23.57, 14.91, 22.54, 15.47, 22.8…
$ texture_worst           &lt;dbl&gt; 17.33, 23.41, 25.53, 26.50, 16.67, 23.75, 27.6…
$ perimeter_worst         &lt;dbl&gt; 184.60, 158.80, 152.50, 98.87, 152.20, 103.40,…
$ area_worst              &lt;dbl&gt; 2019.0, 1956.0, 1709.0, 567.7, 1575.0, 741.6, …
$ smoothness_worst        &lt;dbl&gt; 0.1622, 0.1238, 0.1444, 0.2098, 0.1374, 0.1791…
$ compactness_worst       &lt;dbl&gt; 0.6656, 0.1866, 0.4245, 0.8663, 0.2050, 0.5249…
$ concavity_worst         &lt;dbl&gt; 0.71190, 0.24160, 0.45040, 0.68690, 0.40000, 0…
$ `concave points_worst`  &lt;dbl&gt; 0.26540, 0.18600, 0.24300, 0.25750, 0.16250, 0…
$ symmetry_worst          &lt;dbl&gt; 0.4601, 0.2750, 0.3613, 0.6638, 0.2364, 0.3985…
$ fractal_dimension_worst &lt;dbl&gt; 0.11890, 0.08902, 0.08758, 0.17300, 0.07678, 0…
$ ...33                   &lt;lgl&gt; NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA…</code></pre>
</div>
</div>
</section>
<section id="limpieza-inicial-de-los-datos" class="level3">
<h3 class="anchored" data-anchor-id="limpieza-inicial-de-los-datos">Limpieza inicial de los datos</h3>
<p>Se proceden a eliminar columnas que son innecesarias para el análisis, el identificador id y la última columna que contiene solamente valores NA, además se hace una modificación para que la varaible diagnosis sea de tipo categórica. Adicionalmente se corrigen los nombres cortos de variables con clean_names de janitor</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb18"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb18-1"><a href="#cb18-1" aria-hidden="true" tabindex="-1"></a>wbc <span class="ot">&lt;-</span> wbc[<span class="sc">-</span><span class="fu">c</span>(<span class="dv">1</span>,<span class="dv">33</span>)]</span>
<span id="cb18-2"><a href="#cb18-2" aria-hidden="true" tabindex="-1"></a><span class="fu">glimpse</span>(wbc)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>Rows: 568
Columns: 31
$ diagnosis               &lt;chr&gt; "M", "M", "M", "M", "M", "M", "M", "M", "M", "…
$ radius_mean             &lt;dbl&gt; 17.990, 20.570, 19.690, 11.420, 20.290, 12.450…
$ texture_mean            &lt;dbl&gt; 10.38, 17.77, 21.25, 20.38, 14.34, 15.70, 19.9…
$ perimeter_mean          &lt;dbl&gt; 122.80, 132.90, 130.00, 77.58, 135.10, 82.57, …
$ area_mean               &lt;dbl&gt; 1001.0, 1326.0, 1203.0, 386.1, 1297.0, 477.1, …
$ smoothness_mean         &lt;dbl&gt; 0.11840, 0.08474, 0.10960, 0.14250, 0.10030, 0…
$ compactness_mean        &lt;dbl&gt; 0.27760, 0.07864, 0.15990, 0.28390, 0.13280, 0…
$ concavity_mean          &lt;dbl&gt; 0.30010, 0.08690, 0.19740, 0.24140, 0.19800, 0…
$ `concave points_mean`   &lt;dbl&gt; 0.14710, 0.07017, 0.12790, 0.10520, 0.10430, 0…
$ symmetry_mean           &lt;dbl&gt; 0.2419, 0.1812, 0.2069, 0.2597, 0.1809, 0.2087…
$ fractal_dimension_mean  &lt;dbl&gt; 0.07871, 0.05667, 0.05999, 0.09744, 0.05883, 0…
$ radius_se               &lt;dbl&gt; 1.0950, 0.5435, 0.7456, 0.4956, 0.7572, 0.3345…
$ texture_se              &lt;dbl&gt; 0.9053, 0.7339, 0.7869, 1.1560, 0.7813, 0.8902…
$ perimeter_se            &lt;dbl&gt; 8.589, 3.398, 4.585, 3.445, 5.438, 2.217, 3.18…
$ area_se                 &lt;dbl&gt; 153.40, 74.08, 94.03, 27.23, 94.44, 27.19, 53.…
$ smoothness_se           &lt;dbl&gt; 0.006399, 0.005225, 0.006150, 0.009110, 0.0114…
$ compactness_se          &lt;dbl&gt; 0.049040, 0.013080, 0.040060, 0.074580, 0.0246…
$ concavity_se            &lt;dbl&gt; 0.05373, 0.01860, 0.03832, 0.05661, 0.05688, 0…
$ `concave points_se`     &lt;dbl&gt; 0.015870, 0.013400, 0.020580, 0.018670, 0.0188…
$ symmetry_se             &lt;dbl&gt; 0.03003, 0.01389, 0.02250, 0.05963, 0.01756, 0…
$ fractal_dimension_se    &lt;dbl&gt; 0.006193, 0.003532, 0.004571, 0.009208, 0.0051…
$ radius_worst            &lt;dbl&gt; 25.38, 24.99, 23.57, 14.91, 22.54, 15.47, 22.8…
$ texture_worst           &lt;dbl&gt; 17.33, 23.41, 25.53, 26.50, 16.67, 23.75, 27.6…
$ perimeter_worst         &lt;dbl&gt; 184.60, 158.80, 152.50, 98.87, 152.20, 103.40,…
$ area_worst              &lt;dbl&gt; 2019.0, 1956.0, 1709.0, 567.7, 1575.0, 741.6, …
$ smoothness_worst        &lt;dbl&gt; 0.1622, 0.1238, 0.1444, 0.2098, 0.1374, 0.1791…
$ compactness_worst       &lt;dbl&gt; 0.6656, 0.1866, 0.4245, 0.8663, 0.2050, 0.5249…
$ concavity_worst         &lt;dbl&gt; 0.71190, 0.24160, 0.45040, 0.68690, 0.40000, 0…
$ `concave points_worst`  &lt;dbl&gt; 0.26540, 0.18600, 0.24300, 0.25750, 0.16250, 0…
$ symmetry_worst          &lt;dbl&gt; 0.4601, 0.2750, 0.3613, 0.6638, 0.2364, 0.3985…
$ fractal_dimension_worst &lt;dbl&gt; 0.11890, 0.08902, 0.08758, 0.17300, 0.07678, 0…</code></pre>
</div>
</div>
<p>Las 30 medidas numéricas comprenden la media, el error estándar y el peor valor (es decir, el mayor) de 10 características diferentes de los núcleos celulares digitalizados Estas incluyen:</p>
<p>- Radio</p>
<p>- Textura</p>
<p>- Perímetro</p>
<p>- Superficie</p>
<p>- Suavidad</p>
<p>- Compacidad</p>
<p>- Concavidad</p>
<p>- Puntos cóncavos</p>
<p>- Simetría</p>
<p>- Dimensión fractal</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb20"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb20-1"><a href="#cb20-1" aria-hidden="true" tabindex="-1"></a><span class="co">#Limpiar nombres de variables</span></span>
<span id="cb20-2"><a href="#cb20-2" aria-hidden="true" tabindex="-1"></a>wbc <span class="ot">&lt;-</span> wbc <span class="sc">%&gt;%</span> <span class="fu">clean_names</span>()</span>
<span id="cb20-3"><a href="#cb20-3" aria-hidden="true" tabindex="-1"></a><span class="fu">glimpse</span>(wbc)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>Rows: 568
Columns: 31
$ diagnosis               &lt;chr&gt; "M", "M", "M", "M", "M", "M", "M", "M", "M", "…
$ radius_mean             &lt;dbl&gt; 17.990, 20.570, 19.690, 11.420, 20.290, 12.450…
$ texture_mean            &lt;dbl&gt; 10.38, 17.77, 21.25, 20.38, 14.34, 15.70, 19.9…
$ perimeter_mean          &lt;dbl&gt; 122.80, 132.90, 130.00, 77.58, 135.10, 82.57, …
$ area_mean               &lt;dbl&gt; 1001.0, 1326.0, 1203.0, 386.1, 1297.0, 477.1, …
$ smoothness_mean         &lt;dbl&gt; 0.11840, 0.08474, 0.10960, 0.14250, 0.10030, 0…
$ compactness_mean        &lt;dbl&gt; 0.27760, 0.07864, 0.15990, 0.28390, 0.13280, 0…
$ concavity_mean          &lt;dbl&gt; 0.30010, 0.08690, 0.19740, 0.24140, 0.19800, 0…
$ concave_points_mean     &lt;dbl&gt; 0.14710, 0.07017, 0.12790, 0.10520, 0.10430, 0…
$ symmetry_mean           &lt;dbl&gt; 0.2419, 0.1812, 0.2069, 0.2597, 0.1809, 0.2087…
$ fractal_dimension_mean  &lt;dbl&gt; 0.07871, 0.05667, 0.05999, 0.09744, 0.05883, 0…
$ radius_se               &lt;dbl&gt; 1.0950, 0.5435, 0.7456, 0.4956, 0.7572, 0.3345…
$ texture_se              &lt;dbl&gt; 0.9053, 0.7339, 0.7869, 1.1560, 0.7813, 0.8902…
$ perimeter_se            &lt;dbl&gt; 8.589, 3.398, 4.585, 3.445, 5.438, 2.217, 3.18…
$ area_se                 &lt;dbl&gt; 153.40, 74.08, 94.03, 27.23, 94.44, 27.19, 53.…
$ smoothness_se           &lt;dbl&gt; 0.006399, 0.005225, 0.006150, 0.009110, 0.0114…
$ compactness_se          &lt;dbl&gt; 0.049040, 0.013080, 0.040060, 0.074580, 0.0246…
$ concavity_se            &lt;dbl&gt; 0.05373, 0.01860, 0.03832, 0.05661, 0.05688, 0…
$ concave_points_se       &lt;dbl&gt; 0.015870, 0.013400, 0.020580, 0.018670, 0.0188…
$ symmetry_se             &lt;dbl&gt; 0.03003, 0.01389, 0.02250, 0.05963, 0.01756, 0…
$ fractal_dimension_se    &lt;dbl&gt; 0.006193, 0.003532, 0.004571, 0.009208, 0.0051…
$ radius_worst            &lt;dbl&gt; 25.38, 24.99, 23.57, 14.91, 22.54, 15.47, 22.8…
$ texture_worst           &lt;dbl&gt; 17.33, 23.41, 25.53, 26.50, 16.67, 23.75, 27.6…
$ perimeter_worst         &lt;dbl&gt; 184.60, 158.80, 152.50, 98.87, 152.20, 103.40,…
$ area_worst              &lt;dbl&gt; 2019.0, 1956.0, 1709.0, 567.7, 1575.0, 741.6, …
$ smoothness_worst        &lt;dbl&gt; 0.1622, 0.1238, 0.1444, 0.2098, 0.1374, 0.1791…
$ compactness_worst       &lt;dbl&gt; 0.6656, 0.1866, 0.4245, 0.8663, 0.2050, 0.5249…
$ concavity_worst         &lt;dbl&gt; 0.71190, 0.24160, 0.45040, 0.68690, 0.40000, 0…
$ concave_points_worst    &lt;dbl&gt; 0.26540, 0.18600, 0.24300, 0.25750, 0.16250, 0…
$ symmetry_worst          &lt;dbl&gt; 0.4601, 0.2750, 0.3613, 0.6638, 0.2364, 0.3985…
$ fractal_dimension_worst &lt;dbl&gt; 0.11890, 0.08902, 0.08758, 0.17300, 0.07678, 0…</code></pre>
</div>
<div class="sourceCode cell-code" id="cb22"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb22-1"><a href="#cb22-1" aria-hidden="true" tabindex="-1"></a><span class="co">#Convertir variable diagnosis a categóricas</span></span>
<span id="cb22-2"><a href="#cb22-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb22-3"><a href="#cb22-3" aria-hidden="true" tabindex="-1"></a>wbc <span class="ot">&lt;-</span> wbc <span class="sc">%&gt;%</span> </span>
<span id="cb22-4"><a href="#cb22-4" aria-hidden="true" tabindex="-1"></a>         <span class="fu">mutate</span>(<span class="at">diagnosis =</span> <span class="fu">factor</span>(diagnosis))</span>
<span id="cb22-5"><a href="#cb22-5" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb22-6"><a href="#cb22-6" aria-hidden="true" tabindex="-1"></a>wbc <span class="ot">&lt;-</span> wbc <span class="sc">%&gt;%</span> </span>
<span id="cb22-7"><a href="#cb22-7" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">diagnosis =</span> <span class="fu">fct_relevel</span>(diagnosis, <span class="st">"M"</span>))</span>
<span id="cb22-8"><a href="#cb22-8" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb22-9"><a href="#cb22-9" aria-hidden="true" tabindex="-1"></a>wbc <span class="sc">%&gt;%</span> <span class="fu">count</span>(diagnosis)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 2 × 2
  diagnosis     n
  &lt;fct&gt;     &lt;int&gt;
1 M           212
2 B           356</code></pre>
</div>
</div>
</section>
<section id="análisis-exploratorio-de-los-datos" class="level3">
<h3 class="anchored" data-anchor-id="análisis-exploratorio-de-los-datos">Análisis Exploratorio de los datos</h3>
<p>Usamos skim() de skimr para una estadística univariada de los datos</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb24"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb24-1"><a href="#cb24-1" aria-hidden="true" tabindex="-1"></a><span class="fu">skim</span>(wbc)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<table class="table table-sm table-striped">
<caption>Data summary</caption>
<tbody>
<tr class="odd">
<td style="text-align: left;">Name</td>
<td style="text-align: left;">wbc</td>
</tr>
<tr class="even">
<td style="text-align: left;">Number of rows</td>
<td style="text-align: left;">568</td>
</tr>
<tr class="odd">
<td style="text-align: left;">Number of columns</td>
<td style="text-align: left;">31</td>
</tr>
<tr class="even">
<td style="text-align: left;">_______________________</td>
<td style="text-align: left;"></td>
</tr>
<tr class="odd">
<td style="text-align: left;">Column type frequency:</td>
<td style="text-align: left;"></td>
</tr>
<tr class="even">
<td style="text-align: left;">factor</td>
<td style="text-align: left;">1</td>
</tr>
<tr class="odd">
<td style="text-align: left;">numeric</td>
<td style="text-align: left;">30</td>
</tr>
<tr class="even">
<td style="text-align: left;">________________________</td>
<td style="text-align: left;"></td>
</tr>
<tr class="odd">
<td style="text-align: left;">Group variables</td>
<td style="text-align: left;">None</td>
</tr>
</tbody>
</table>
<p><strong>Variable type: factor</strong></p>
<table class="table table-sm table-striped">
<colgroup>
<col style="width: 20%">
<col style="width: 14%">
<col style="width: 20%">
<col style="width: 11%">
<col style="width: 12%">
<col style="width: 21%">
</colgroup>
<thead>
<tr class="header">
<th style="text-align: left;">skim_variable</th>
<th style="text-align: right;">n_missing</th>
<th style="text-align: right;">complete_rate</th>
<th style="text-align: left;">ordered</th>
<th style="text-align: right;">n_unique</th>
<th style="text-align: left;">top_counts</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td style="text-align: left;">diagnosis</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">1</td>
<td style="text-align: left;">FALSE</td>
<td style="text-align: right;">2</td>
<td style="text-align: left;">B: 356, M: 212</td>
</tr>
</tbody>
</table>
<p><strong>Variable type: numeric</strong></p>
<table class="table table-sm table-striped">
<colgroup>
<col style="width: 22%">
<col style="width: 9%">
<col style="width: 13%">
<col style="width: 6%">
<col style="width: 6%">
<col style="width: 6%">
<col style="width: 6%">
<col style="width: 6%">
<col style="width: 7%">
<col style="width: 7%">
<col style="width: 5%">
</colgroup>
<thead>
<tr class="header">
<th style="text-align: left;">skim_variable</th>
<th style="text-align: right;">n_missing</th>
<th style="text-align: right;">complete_rate</th>
<th style="text-align: right;">mean</th>
<th style="text-align: right;">sd</th>
<th style="text-align: right;">p0</th>
<th style="text-align: right;">p25</th>
<th style="text-align: right;">p50</th>
<th style="text-align: right;">p75</th>
<th style="text-align: right;">p100</th>
<th style="text-align: left;">hist</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td style="text-align: left;">radius_mean</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">1</td>
<td style="text-align: right;">14.14</td>
<td style="text-align: right;">3.52</td>
<td style="text-align: right;">6.98</td>
<td style="text-align: right;">11.71</td>
<td style="text-align: right;">13.38</td>
<td style="text-align: right;">15.80</td>
<td style="text-align: right;">28.11</td>
<td style="text-align: left;">▂▇▃▁▁</td>
</tr>
<tr class="even">
<td style="text-align: left;">texture_mean</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">1</td>
<td style="text-align: right;">19.28</td>
<td style="text-align: right;">4.30</td>
<td style="text-align: right;">9.71</td>
<td style="text-align: right;">16.17</td>
<td style="text-align: right;">18.84</td>
<td style="text-align: right;">21.78</td>
<td style="text-align: right;">39.28</td>
<td style="text-align: left;">▃▇▃▁▁</td>
</tr>
<tr class="odd">
<td style="text-align: left;">perimeter_mean</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">1</td>
<td style="text-align: right;">92.05</td>
<td style="text-align: right;">24.25</td>
<td style="text-align: right;">43.79</td>
<td style="text-align: right;">75.20</td>
<td style="text-align: right;">86.29</td>
<td style="text-align: right;">104.15</td>
<td style="text-align: right;">188.50</td>
<td style="text-align: left;">▃▇▃▁▁</td>
</tr>
<tr class="even">
<td style="text-align: left;">area_mean</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">1</td>
<td style="text-align: right;">655.72</td>
<td style="text-align: right;">351.66</td>
<td style="text-align: right;">143.50</td>
<td style="text-align: right;">420.30</td>
<td style="text-align: right;">551.40</td>
<td style="text-align: right;">784.15</td>
<td style="text-align: right;">2501.00</td>
<td style="text-align: left;">▇▃▂▁▁</td>
</tr>
<tr class="odd">
<td style="text-align: left;">smoothness_mean</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">1</td>
<td style="text-align: right;">0.10</td>
<td style="text-align: right;">0.01</td>
<td style="text-align: right;">0.06</td>
<td style="text-align: right;">0.09</td>
<td style="text-align: right;">0.10</td>
<td style="text-align: right;">0.11</td>
<td style="text-align: right;">0.16</td>
<td style="text-align: left;">▂▇▅▁▁</td>
</tr>
<tr class="even">
<td style="text-align: left;">compactness_mean</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">1</td>
<td style="text-align: right;">0.10</td>
<td style="text-align: right;">0.05</td>
<td style="text-align: right;">0.02</td>
<td style="text-align: right;">0.07</td>
<td style="text-align: right;">0.09</td>
<td style="text-align: right;">0.13</td>
<td style="text-align: right;">0.35</td>
<td style="text-align: left;">▇▇▂▁▁</td>
</tr>
<tr class="odd">
<td style="text-align: left;">concavity_mean</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">1</td>
<td style="text-align: right;">0.09</td>
<td style="text-align: right;">0.08</td>
<td style="text-align: right;">0.00</td>
<td style="text-align: right;">0.03</td>
<td style="text-align: right;">0.06</td>
<td style="text-align: right;">0.13</td>
<td style="text-align: right;">0.43</td>
<td style="text-align: left;">▇▃▂▁▁</td>
</tr>
<tr class="even">
<td style="text-align: left;">concave_points_mean</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">1</td>
<td style="text-align: right;">0.05</td>
<td style="text-align: right;">0.04</td>
<td style="text-align: right;">0.00</td>
<td style="text-align: right;">0.02</td>
<td style="text-align: right;">0.03</td>
<td style="text-align: right;">0.07</td>
<td style="text-align: right;">0.20</td>
<td style="text-align: left;">▇▃▂▁▁</td>
</tr>
<tr class="odd">
<td style="text-align: left;">symmetry_mean</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">1</td>
<td style="text-align: right;">0.18</td>
<td style="text-align: right;">0.03</td>
<td style="text-align: right;">0.11</td>
<td style="text-align: right;">0.16</td>
<td style="text-align: right;">0.18</td>
<td style="text-align: right;">0.20</td>
<td style="text-align: right;">0.30</td>
<td style="text-align: left;">▁▇▅▁▁</td>
</tr>
<tr class="even">
<td style="text-align: left;">fractal_dimension_mean</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">1</td>
<td style="text-align: right;">0.06</td>
<td style="text-align: right;">0.01</td>
<td style="text-align: right;">0.05</td>
<td style="text-align: right;">0.06</td>
<td style="text-align: right;">0.06</td>
<td style="text-align: right;">0.07</td>
<td style="text-align: right;">0.10</td>
<td style="text-align: left;">▆▇▂▁▁</td>
</tr>
<tr class="odd">
<td style="text-align: left;">radius_se</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">1</td>
<td style="text-align: right;">0.41</td>
<td style="text-align: right;">0.28</td>
<td style="text-align: right;">0.11</td>
<td style="text-align: right;">0.23</td>
<td style="text-align: right;">0.32</td>
<td style="text-align: right;">0.48</td>
<td style="text-align: right;">2.87</td>
<td style="text-align: left;">▇▁▁▁▁</td>
</tr>
<tr class="even">
<td style="text-align: left;">texture_se</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">1</td>
<td style="text-align: right;">1.22</td>
<td style="text-align: right;">0.55</td>
<td style="text-align: right;">0.36</td>
<td style="text-align: right;">0.83</td>
<td style="text-align: right;">1.11</td>
<td style="text-align: right;">1.47</td>
<td style="text-align: right;">4.88</td>
<td style="text-align: left;">▇▅▁▁▁</td>
</tr>
<tr class="odd">
<td style="text-align: left;">perimeter_se</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">1</td>
<td style="text-align: right;">2.87</td>
<td style="text-align: right;">2.02</td>
<td style="text-align: right;">0.76</td>
<td style="text-align: right;">1.61</td>
<td style="text-align: right;">2.29</td>
<td style="text-align: right;">3.36</td>
<td style="text-align: right;">21.98</td>
<td style="text-align: left;">▇▁▁▁▁</td>
</tr>
<tr class="even">
<td style="text-align: left;">area_se</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">1</td>
<td style="text-align: right;">40.37</td>
<td style="text-align: right;">45.52</td>
<td style="text-align: right;">6.80</td>
<td style="text-align: right;">17.85</td>
<td style="text-align: right;">24.57</td>
<td style="text-align: right;">45.24</td>
<td style="text-align: right;">542.20</td>
<td style="text-align: left;">▇▁▁▁▁</td>
</tr>
<tr class="odd">
<td style="text-align: left;">smoothness_se</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">1</td>
<td style="text-align: right;">0.01</td>
<td style="text-align: right;">0.00</td>
<td style="text-align: right;">0.00</td>
<td style="text-align: right;">0.01</td>
<td style="text-align: right;">0.01</td>
<td style="text-align: right;">0.01</td>
<td style="text-align: right;">0.03</td>
<td style="text-align: left;">▇▃▁▁▁</td>
</tr>
<tr class="even">
<td style="text-align: left;">compactness_se</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">1</td>
<td style="text-align: right;">0.03</td>
<td style="text-align: right;">0.02</td>
<td style="text-align: right;">0.00</td>
<td style="text-align: right;">0.01</td>
<td style="text-align: right;">0.02</td>
<td style="text-align: right;">0.03</td>
<td style="text-align: right;">0.14</td>
<td style="text-align: left;">▇▃▁▁▁</td>
</tr>
<tr class="odd">
<td style="text-align: left;">concavity_se</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">1</td>
<td style="text-align: right;">0.03</td>
<td style="text-align: right;">0.03</td>
<td style="text-align: right;">0.00</td>
<td style="text-align: right;">0.02</td>
<td style="text-align: right;">0.03</td>
<td style="text-align: right;">0.04</td>
<td style="text-align: right;">0.40</td>
<td style="text-align: left;">▇▁▁▁▁</td>
</tr>
<tr class="even">
<td style="text-align: left;">concave_points_se</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">1</td>
<td style="text-align: right;">0.01</td>
<td style="text-align: right;">0.01</td>
<td style="text-align: right;">0.00</td>
<td style="text-align: right;">0.01</td>
<td style="text-align: right;">0.01</td>
<td style="text-align: right;">0.01</td>
<td style="text-align: right;">0.05</td>
<td style="text-align: left;">▇▇▁▁▁</td>
</tr>
<tr class="odd">
<td style="text-align: left;">symmetry_se</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">1</td>
<td style="text-align: right;">0.02</td>
<td style="text-align: right;">0.01</td>
<td style="text-align: right;">0.01</td>
<td style="text-align: right;">0.02</td>
<td style="text-align: right;">0.02</td>
<td style="text-align: right;">0.02</td>
<td style="text-align: right;">0.08</td>
<td style="text-align: left;">▇▃▁▁▁</td>
</tr>
<tr class="even">
<td style="text-align: left;">fractal_dimension_se</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">1</td>
<td style="text-align: right;">0.00</td>
<td style="text-align: right;">0.00</td>
<td style="text-align: right;">0.00</td>
<td style="text-align: right;">0.00</td>
<td style="text-align: right;">0.00</td>
<td style="text-align: right;">0.00</td>
<td style="text-align: right;">0.03</td>
<td style="text-align: left;">▇▁▁▁▁</td>
</tr>
<tr class="odd">
<td style="text-align: left;">radius_worst</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">1</td>
<td style="text-align: right;">16.28</td>
<td style="text-align: right;">4.83</td>
<td style="text-align: right;">7.93</td>
<td style="text-align: right;">13.02</td>
<td style="text-align: right;">14.97</td>
<td style="text-align: right;">18.79</td>
<td style="text-align: right;">36.04</td>
<td style="text-align: left;">▆▇▃▁▁</td>
</tr>
<tr class="even">
<td style="text-align: left;">texture_worst</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">1</td>
<td style="text-align: right;">25.67</td>
<td style="text-align: right;">6.15</td>
<td style="text-align: right;">12.02</td>
<td style="text-align: right;">21.08</td>
<td style="text-align: right;">25.41</td>
<td style="text-align: right;">29.68</td>
<td style="text-align: right;">49.54</td>
<td style="text-align: left;">▃▇▆▁▁</td>
</tr>
<tr class="odd">
<td style="text-align: left;">perimeter_worst</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">1</td>
<td style="text-align: right;">107.35</td>
<td style="text-align: right;">33.57</td>
<td style="text-align: right;">50.41</td>
<td style="text-align: right;">84.15</td>
<td style="text-align: right;">97.66</td>
<td style="text-align: right;">125.53</td>
<td style="text-align: right;">251.20</td>
<td style="text-align: left;">▇▇▃▁▁</td>
</tr>
<tr class="even">
<td style="text-align: left;">area_worst</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">1</td>
<td style="text-align: right;">881.66</td>
<td style="text-align: right;">569.28</td>
<td style="text-align: right;">185.20</td>
<td style="text-align: right;">515.68</td>
<td style="text-align: right;">686.55</td>
<td style="text-align: right;">1085.00</td>
<td style="text-align: right;">4254.00</td>
<td style="text-align: left;">▇▂▁▁▁</td>
</tr>
<tr class="odd">
<td style="text-align: left;">smoothness_worst</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">1</td>
<td style="text-align: right;">0.13</td>
<td style="text-align: right;">0.02</td>
<td style="text-align: right;">0.07</td>
<td style="text-align: right;">0.12</td>
<td style="text-align: right;">0.13</td>
<td style="text-align: right;">0.15</td>
<td style="text-align: right;">0.22</td>
<td style="text-align: left;">▂▇▇▂▁</td>
</tr>
<tr class="even">
<td style="text-align: left;">compactness_worst</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">1</td>
<td style="text-align: right;">0.25</td>
<td style="text-align: right;">0.16</td>
<td style="text-align: right;">0.03</td>
<td style="text-align: right;">0.15</td>
<td style="text-align: right;">0.21</td>
<td style="text-align: right;">0.34</td>
<td style="text-align: right;">1.06</td>
<td style="text-align: left;">▇▅▁▁▁</td>
</tr>
<tr class="odd">
<td style="text-align: left;">concavity_worst</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">1</td>
<td style="text-align: right;">0.27</td>
<td style="text-align: right;">0.21</td>
<td style="text-align: right;">0.00</td>
<td style="text-align: right;">0.12</td>
<td style="text-align: right;">0.23</td>
<td style="text-align: right;">0.38</td>
<td style="text-align: right;">1.25</td>
<td style="text-align: left;">▇▅▂▁▁</td>
</tr>
<tr class="even">
<td style="text-align: left;">concave_points_worst</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">1</td>
<td style="text-align: right;">0.11</td>
<td style="text-align: right;">0.07</td>
<td style="text-align: right;">0.00</td>
<td style="text-align: right;">0.06</td>
<td style="text-align: right;">0.10</td>
<td style="text-align: right;">0.16</td>
<td style="text-align: right;">0.29</td>
<td style="text-align: left;">▅▇▅▃▁</td>
</tr>
<tr class="odd">
<td style="text-align: left;">symmetry_worst</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">1</td>
<td style="text-align: right;">0.29</td>
<td style="text-align: right;">0.06</td>
<td style="text-align: right;">0.16</td>
<td style="text-align: right;">0.25</td>
<td style="text-align: right;">0.28</td>
<td style="text-align: right;">0.32</td>
<td style="text-align: right;">0.66</td>
<td style="text-align: left;">▅▇▁▁▁</td>
</tr>
<tr class="even">
<td style="text-align: left;">fractal_dimension_worst</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">1</td>
<td style="text-align: right;">0.08</td>
<td style="text-align: right;">0.02</td>
<td style="text-align: right;">0.06</td>
<td style="text-align: right;">0.07</td>
<td style="text-align: right;">0.08</td>
<td style="text-align: right;">0.09</td>
<td style="text-align: right;">0.21</td>
<td style="text-align: left;">▇▃▁▁▁</td>
</tr>
</tbody>
</table>
</div>
</div>
<p>Ya que tenemos una variable de salida categórica, haremos una exploración de los datos númericos y compararemos esos datos númericos asociados a las células benignas y malignas</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb25"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb25-1"><a href="#cb25-1" aria-hidden="true" tabindex="-1"></a>wbc <span class="sc">%&gt;%</span> <span class="fu">pivot_longer</span>(<span class="at">cols=</span><span class="sc">-</span>diagnosis, <span class="at">names_to =</span> <span class="st">"parametro"</span>, <span class="at">values_to =</span> <span class="st">"valor"</span>) <span class="sc">%&gt;%</span> </span>
<span id="cb25-2"><a href="#cb25-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">ggplot</span>(<span class="fu">aes</span>(diagnosis, valor, <span class="at">fill=</span> diagnosis))<span class="sc">+</span></span>
<span id="cb25-3"><a href="#cb25-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_boxplot</span>() <span class="sc">+</span> <span class="fu">facet_wrap</span>(<span class="sc">~</span>parametro, <span class="at">scales =</span> <span class="st">"free"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<p><img src="index_files/figure-html/unnamed-chunk-5-1.png" class="img-fluid" width="672"></p>
</div>
</div>
<p>Adicionalmente haremos la evaluación a través de ggpairs de GGally</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb26"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb26-1"><a href="#cb26-1" aria-hidden="true" tabindex="-1"></a><span class="fu">ggpairs</span>(wbc[<span class="dv">1</span><span class="sc">:</span><span class="dv">8</span>], <span class="fu">aes</span>(<span class="at">color =</span> diagnosis))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stderr">
<pre><code>`stat_bin()` using `bins = 30`. Pick better value with `binwidth`.
`stat_bin()` using `bins = 30`. Pick better value with `binwidth`.
`stat_bin()` using `bins = 30`. Pick better value with `binwidth`.
`stat_bin()` using `bins = 30`. Pick better value with `binwidth`.
`stat_bin()` using `bins = 30`. Pick better value with `binwidth`.
`stat_bin()` using `bins = 30`. Pick better value with `binwidth`.
`stat_bin()` using `bins = 30`. Pick better value with `binwidth`.</code></pre>
</div>
<div class="cell-output-display">
<p><img src="index_files/figure-html/unnamed-chunk-6-1.png" class="img-fluid" width="672"></p>
</div>
</div>
<p>La evaluación diagnostica permite diferenciar una clara separación entre células malignas y benignas asociada a los parametros descritos</p>
</section>
<section id="machine-learning-con-tidymodels-1" class="level3">
<h3 class="anchored" data-anchor-id="machine-learning-con-tidymodels-1">Machine Learning con Tidymodels:</h3>
<p>Aplicaremos el flujo de trabajo del ecositema Tidymodels:</p>
<section id="división-de-los-datos-en-grupo-de-entrenamiento-y-prueba" class="level4">
<h4 class="anchored" data-anchor-id="división-de-los-datos-en-grupo-de-entrenamiento-y-prueba">División de los datos en grupo de entrenamiento y prueba</h4>
<div class="cell">
<div class="sourceCode cell-code" id="cb28"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb28-1"><a href="#cb28-1" aria-hidden="true" tabindex="-1"></a><span class="fu">set.seed</span>(<span class="dv">1970</span>)</span>
<span id="cb28-2"><a href="#cb28-2" aria-hidden="true" tabindex="-1"></a>wbc_split <span class="ot">&lt;-</span> wbc <span class="sc">%&gt;%</span> </span>
<span id="cb28-3"><a href="#cb28-3" aria-hidden="true" tabindex="-1"></a>                 <span class="fu">initial_split</span>(<span class="at">prop =</span> <span class="fl">0.75</span>, <span class="at">strata =</span> diagnosis)</span>
<span id="cb28-4"><a href="#cb28-4" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb28-5"><a href="#cb28-5" aria-hidden="true" tabindex="-1"></a>wbc_train <span class="ot">&lt;-</span> <span class="fu">training</span>(wbc_split)</span>
<span id="cb28-6"><a href="#cb28-6" aria-hidden="true" tabindex="-1"></a>wbc_test <span class="ot">&lt;-</span> <span class="fu">testing</span>(wbc_split)</span>
<span id="cb28-7"><a href="#cb28-7" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb28-8"><a href="#cb28-8" aria-hidden="true" tabindex="-1"></a><span class="co">#Evaluación de la dimensión de los dos grupos de datos</span></span>
<span id="cb28-9"><a href="#cb28-9" aria-hidden="true" tabindex="-1"></a><span class="fu">dim</span>(wbc_train)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] 426  31</code></pre>
</div>
<div class="sourceCode cell-code" id="cb30"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb30-1"><a href="#cb30-1" aria-hidden="true" tabindex="-1"></a><span class="fu">dim</span>(wbc_test)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] 142  31</code></pre>
</div>
</div>
</section>
</section>
<section id="feature-engeneerigng-preparación-de-los-datos-para-aplicación-del-algoritmo-knn" class="level3">
<h3 class="anchored" data-anchor-id="feature-engeneerigng-preparación-de-los-datos-para-aplicación-del-algoritmo-knn">Feature Engeneerigng: Preparación de los datos para aplicación del algoritmo knn</h3>
</section>
<section id="notas-algo-problemático-en-los" class="level3">
<h3 class="anchored" data-anchor-id="notas-algo-problemático-en-los">¿notas algo problemático en los</h3>
<p>Recuerda que el cálculo de la distancia para k-NN depende en gran medida de la escala de medición de las características de entrada.. Dado que la suavidad oscila entre 0,05 y 0,16 mientras que el área oscila entre 143,5 y 2501,0, el impacto del área será mucho mayor que el de la suavidad en el cálculo de la distancia.. Esto podría causar problemas para nuestro clasificador, así que vamos a aplicar la normalización para reescalar las características a un estándar usando el paquete recipes()</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb32"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb32-1"><a href="#cb32-1" aria-hidden="true" tabindex="-1"></a><span class="co">#Construir el recipe</span></span>
<span id="cb32-2"><a href="#cb32-2" aria-hidden="true" tabindex="-1"></a><span class="co"># Se usará la variable diagnosis como variable respuesta, los datos numéricos se normalizarán con step_normalize</span></span>
<span id="cb32-3"><a href="#cb32-3" aria-hidden="true" tabindex="-1"></a>wbc_recipe <span class="ot">&lt;-</span> <span class="fu">recipe</span>(diagnosis <span class="sc">~</span>., <span class="at">data=</span> wbc_train) <span class="sc">%&gt;%</span> </span>
<span id="cb32-4"><a href="#cb32-4" aria-hidden="true" tabindex="-1"></a>                  <span class="fu">step_normalize</span>(<span class="fu">all_numeric</span>()) <span class="co">#normalización</span></span>
<span id="cb32-5"><a href="#cb32-5" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb32-6"><a href="#cb32-6" aria-hidden="true" tabindex="-1"></a><span class="co">#Imprimir el objeto wbc_recipe</span></span>
<span id="cb32-7"><a href="#cb32-7" aria-hidden="true" tabindex="-1"></a>wbc_recipe</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>Recipe

Inputs:

      role #variables
   outcome          1
 predictor         30

Operations:

Centering and scaling for all_numeric()</code></pre>
</div>
</div>
<p>El objeto recipe contiene los procedimientos que se aplicarán al conjunto de variables así como el papel de cada una de las variables cuando se aplique el algoritmo. El recipe debe prepararse y aplicar luego a los datos de entreanimiento y prueba</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb34"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb34-1"><a href="#cb34-1" aria-hidden="true" tabindex="-1"></a>wbc_recipe_prep <span class="ot">&lt;-</span> wbc_recipe <span class="sc">%&gt;%</span> </span>
<span id="cb34-2"><a href="#cb34-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">prep</span>(<span class="at">training =</span> wbc_train)</span>
<span id="cb34-3"><a href="#cb34-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb34-4"><a href="#cb34-4" aria-hidden="true" tabindex="-1"></a><span class="co">#Baking</span></span>
<span id="cb34-5"><a href="#cb34-5" aria-hidden="true" tabindex="-1"></a>wbc_training_baked <span class="ot">&lt;-</span> wbc_recipe_prep <span class="sc">%&gt;%</span> </span>
<span id="cb34-6"><a href="#cb34-6" aria-hidden="true" tabindex="-1"></a>  <span class="fu">bake</span>(<span class="at">new_data =</span> <span class="cn">NULL</span>)</span>
<span id="cb34-7"><a href="#cb34-7" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb34-8"><a href="#cb34-8" aria-hidden="true" tabindex="-1"></a><span class="co">#Datos de entrenamiento normalizados</span></span>
<span id="cb34-9"><a href="#cb34-9" aria-hidden="true" tabindex="-1"></a>wbc_training_baked  <span class="sc">%&gt;%</span> <span class="fu">glimpse</span>()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>Rows: 426
Columns: 31
$ radius_mean             &lt;dbl&gt; -0.1695881, -0.3014030, -1.3261198, -0.3157306…
$ texture_mean            &lt;dbl&gt; -1.1222690, -0.8194853, -1.5528948, -0.2116749…
$ perimeter_mean          &lt;dbl&gt; -0.1884909, -0.2646714, -1.3174604, -0.3903899…
$ area_mean               &lt;dbl&gt; -0.251162420, -0.382978983, -1.083628145, -0.3…
$ smoothness_mean         &lt;dbl&gt; 0.12867392, 0.81233997, 0.45325688, -0.4317773…
$ compactness_mean        &lt;dbl&gt; -0.4365584, 0.4310362, -0.7472677, -1.2646738,…
$ concavity_mean          &lt;dbl&gt; -0.2859009, -0.5474374, -0.7485810, -0.7977439…
$ concave_points_mean     &lt;dbl&gt; -0.02877076, -0.46226312, -0.73050436, -0.5107…
$ symmetry_mean           &lt;dbl&gt; 0.293353263, 0.599154999, 0.032303000, -1.2654…
$ fractal_dimension_mean  &lt;dbl&gt; -0.70969400, 0.73804585, 0.86827317, -0.575310…
$ radius_se               &lt;dbl&gt; -0.46481050, -0.76647420, -0.43845500, -0.7711…
$ texture_se              &lt;dbl&gt; -0.75450252, -0.82872674, -0.41296224, 2.06456…
$ perimeter_se            &lt;dbl&gt; -0.37735994, -0.70475776, -0.44962998, -0.8080…
$ area_se                 &lt;dbl&gt; -0.34735388, -0.53595857, -0.51410673, -0.5467…
$ smoothness_se           &lt;dbl&gt; 0.55631329, -0.93930882, 0.94829306, -0.851935…
$ compactness_se          &lt;dbl&gt; -0.6250921, -0.3703322, -0.6413781, -1.1893445…
$ concavity_se            &lt;dbl&gt; -0.2661595, -0.4815811, -0.3918482, -0.5925748…
$ concave_points_se       &lt;dbl&gt; 0.211472264, -0.835956215, 0.378180100, -0.026…
$ symmetry_se             &lt;dbl&gt; -0.058771027, -0.444403061, 0.001244554, 0.823…
$ fractal_dimension_se    &lt;dbl&gt; -0.5510642, -0.5046197, -0.3028652, -0.7453876…
$ radius_worst            &lt;dbl&gt; -0.24482758, -0.37141214, -1.25750408, -0.6204…
$ texture_worst           &lt;dbl&gt; -1.03345162, -0.83874932, -1.60331201, -0.4715…
$ perimeter_worst         &lt;dbl&gt; -0.22923319, -0.33699461, -1.26117565, -0.6841…
$ area_worst              &lt;dbl&gt; -0.29772223, -0.43832718, -0.98820230, -0.5857…
$ smoothness_worst        &lt;dbl&gt; 0.525580669, -0.023824905, 0.027681868, -1.491…
$ compactness_worst       &lt;dbl&gt; -0.5051461, 0.1326670, -0.9025870, -1.3388817,…
$ concavity_worst         &lt;dbl&gt; -0.18440526, -0.41943689, -0.89105137, -1.0806…
$ concave_points_worst    &lt;dbl&gt; 0.2081505, -0.6518532, -0.8141122, -1.0006487,…
$ symmetry_worst          &lt;dbl&gt; 0.12140300, 0.45504464, -0.72801315, -1.474274…
$ fractal_dimension_worst &lt;dbl&gt; -0.63308242, -0.13651592, -0.35685387, -1.2188…
$ diagnosis               &lt;fct&gt; B, B, B, B, B, B, B, B, B, B, B, B, B, B, B, B…</code></pre>
</div>
<div class="sourceCode cell-code" id="cb36"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb36-1"><a href="#cb36-1" aria-hidden="true" tabindex="-1"></a><span class="co">#Datos de prueba normalizados</span></span>
<span id="cb36-2"><a href="#cb36-2" aria-hidden="true" tabindex="-1"></a>wbc_test_baked <span class="ot">&lt;-</span> wbc_recipe_prep <span class="sc">%&gt;%</span> </span>
<span id="cb36-3"><a href="#cb36-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">bake</span>(<span class="at">new_data =</span> wbc_test)</span>
<span id="cb36-4"><a href="#cb36-4" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb36-5"><a href="#cb36-5" aria-hidden="true" tabindex="-1"></a>wbc_test_baked <span class="sc">%&gt;%</span> <span class="fu">glimpse</span>()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>Rows: 142
Columns: 31
$ radius_mean             &lt;dbl&gt; 1.59271860, 1.18008093, 0.47229269, -0.1151428…
$ texture_mean            &lt;dbl&gt; 0.42304963, 0.13820860, -0.33054553, 0.7280762…
$ perimeter_mean          &lt;dbl&gt; 1.58239267, 1.14945452, 0.48339582, 0.06710913…
$ area_mean               &lt;dbl&gt; 1.56152885, 1.09746622, 0.36009063, -0.2169983…
$ smoothness_mean         &lt;dbl&gt; 0.960197715, -0.093816780, 0.080092091, 1.2066…
$ compactness_mean        &lt;dbl&gt; 1.055491792, 0.089388829, 0.472793148, 2.37273…
$ concavity_mean          &lt;dbl&gt; 1.34570790, 0.28883070, 0.12462169, 1.53786739…
$ concave_points_mean     &lt;dbl&gt; 2.04893144, 0.65065265, 0.44467243, 0.81279073…
$ symmetry_mean           &lt;dbl&gt; 0.97954252, -0.04601208, 0.13299382, 0.9795425…
$ fractal_dimension_mean  &lt;dbl&gt; -0.38689650, -0.74294353, -0.27190855, 1.94472…
$ radius_se               &lt;dbl&gt; 1.22942116, 0.16487240, 0.37536030, -0.6706683…
$ texture_se              &lt;dbl&gt; -0.75758764, -0.78245003, -0.39826258, -0.0641…
$ perimeter_se            &lt;dbl&gt; 0.84832048, 0.16684799, 0.35310097, -0.3759048…
$ area_se                 &lt;dbl&gt; 1.14769368, 0.29653279, 0.30183663, -0.4396407…
$ smoothness_se           &lt;dbl&gt; -0.23586960, -0.86495601, -0.36573003, -0.1402…
$ compactness_se          &lt;dbl&gt; 0.85577249, -0.67046030, 0.88776289, 1.9783446…
$ concavity_se            &lt;dbl&gt; 0.18563169, -0.30774308, -0.13984558, 0.707458…
$ concave_points_se       &lt;dbl&gt; 1.379999832, -0.222597196, 0.159572655, 0.7037…
$ symmetry_se             &lt;dbl&gt; 0.285999334, -0.838973585, -0.023017064, -0.08…
$ fractal_dimension_se    &lt;dbl&gt; 0.29273811, -0.59602237, 0.13408396, 1.6013561…
$ radius_worst            &lt;dbl&gt; 1.51075504, 1.36756922, 0.85708066, -0.2614288…
$ texture_worst           &lt;dbl&gt; -0.04094478, 0.29622261, 0.23607069, 0.9848039…
$ perimeter_worst         &lt;dbl&gt; 1.34688951, 1.36778508, 0.86927657, 0.04240917…
$ area_worst              &lt;dbl&gt; 1.44076126, 1.26130265, 0.72641146, -0.3212435…
$ smoothness_worst        &lt;dbl&gt; 0.54274959, 0.53416513, 0.33672250, 1.43124142…
$ compactness_worst       &lt;dbl&gt; 1.066812087, 0.005485953, 1.934187070, 3.27976…
$ concavity_worst         &lt;dbl&gt; 0.80930849, 0.47086294, 0.55594439, 1.95579280…
$ concave_points_worst    &lt;dbl&gt; 1.9628836, 1.1976847, 1.0102264, 1.6217709, 0.…
$ symmetry_worst          &lt;dbl&gt; 1.1465048, 0.2600174, 1.4350162, 1.1191043, 0.…
$ fractal_dimension_worst &lt;dbl&gt; 0.17249461, -0.03709514, 1.09791399, 3.1561928…
$ diagnosis               &lt;fct&gt; M, M, M, M, M, M, M, M, M, M, M, M, B, B, B, B…</code></pre>
</div>
</div>
</section>
<section id="construccón-del-modelo-de-clasificación-knn" class="level3">
<h3 class="anchored" data-anchor-id="construccón-del-modelo-de-clasificación-knn">Construccón del modelo de clasificación knn</h3>
<div class="cell">
<div class="sourceCode cell-code" id="cb38"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb38-1"><a href="#cb38-1" aria-hidden="true" tabindex="-1"></a><span class="co">#Se especifica el modelo</span></span>
<span id="cb38-2"><a href="#cb38-2" aria-hidden="true" tabindex="-1"></a>knn_model <span class="ot">&lt;-</span> <span class="fu">nearest_neighbor</span>(<span class="at">neighbors =</span> <span class="dv">21</span>) <span class="sc">%&gt;%</span> </span>
<span id="cb38-3"><a href="#cb38-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">set_engine</span>(<span class="st">"kknn"</span>) <span class="sc">%&gt;%</span> </span>
<span id="cb38-4"><a href="#cb38-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">set_mode</span>(<span class="st">"classification"</span>)</span>
<span id="cb38-5"><a href="#cb38-5" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb38-6"><a href="#cb38-6" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb38-7"><a href="#cb38-7" aria-hidden="true" tabindex="-1"></a>knn_model</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>K-Nearest Neighbor Model Specification (classification)

Main Arguments:
  neighbors = 21

Computational engine: kknn </code></pre>
</div>
</div>
<section id="ajuste-del-modelo-a-los-datos-de-entrenamiento" class="level4">
<h4 class="anchored" data-anchor-id="ajuste-del-modelo-a-los-datos-de-entrenamiento">Ajuste del modelo a los datos de entrenamiento</h4>
<div class="cell">
<div class="sourceCode cell-code" id="cb40"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb40-1"><a href="#cb40-1" aria-hidden="true" tabindex="-1"></a>knn_fit <span class="ot">&lt;-</span> knn_model <span class="sc">%&gt;%</span> </span>
<span id="cb40-2"><a href="#cb40-2" aria-hidden="true" tabindex="-1"></a>             <span class="fu">fit</span>(diagnosis<span class="sc">~</span>., <span class="at">data=</span> wbc_training_baked)</span>
<span id="cb40-3"><a href="#cb40-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb40-4"><a href="#cb40-4" aria-hidden="true" tabindex="-1"></a>knn_fit</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>parsnip model object


Call:
kknn::train.kknn(formula = diagnosis ~ ., data = data, ks = min_rows(21,     data, 5))

Type of response variable: nominal
Minimal misclassification: 0.03286385
Best kernel: optimal
Best k: 21</code></pre>
</div>
</div>
</section>
</section>
<section id="evaluación-de-la-predicción-del-modelo" class="level3">
<h3 class="anchored" data-anchor-id="evaluación-de-la-predicción-del-modelo">Evaluación de la predicción del modelo</h3>
<p>Se predicen las clases suministrando la información de los datos de entrenamiento</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb42"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb42-1"><a href="#cb42-1" aria-hidden="true" tabindex="-1"></a>clases_preds <span class="ot">&lt;-</span> <span class="fu">predict</span>(knn_fit, <span class="at">new_data =</span> wbc_test_baked,</span>
<span id="cb42-2"><a href="#cb42-2" aria-hidden="true" tabindex="-1"></a>                        <span class="at">type =</span> <span class="st">"class"</span>)</span>
<span id="cb42-3"><a href="#cb42-3" aria-hidden="true" tabindex="-1"></a>clases_preds</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 142 × 1
   .pred_class
   &lt;fct&gt;      
 1 M          
 2 M          
 3 M          
 4 M          
 5 M          
 6 M          
 7 M          
 8 M          
 9 M          
10 M          
# … with 132 more rows</code></pre>
</div>
</div>
<p>Se predicen las probabilidades</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb44"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb44-1"><a href="#cb44-1" aria-hidden="true" tabindex="-1"></a>prob_preds <span class="ot">&lt;-</span> <span class="fu">predict</span>(knn_fit, <span class="at">new_data =</span> wbc_test_baked,</span>
<span id="cb44-2"><a href="#cb44-2" aria-hidden="true" tabindex="-1"></a>                        <span class="at">type =</span> <span class="st">"prob"</span>)</span>
<span id="cb44-3"><a href="#cb44-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb44-4"><a href="#cb44-4" aria-hidden="true" tabindex="-1"></a>prob_preds</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 142 × 2
   .pred_M .pred_B
     &lt;dbl&gt;   &lt;dbl&gt;
 1   1      0     
 2   1      0     
 3   0.955  0.0453
 4   0.965  0.0351
 5   0.836  0.164 
 6   1      0     
 7   1      0     
 8   1      0     
 9   1      0     
10   0.689  0.311 
# … with 132 more rows</code></pre>
</div>
</div>
</section>
<section id="métricas-del-modelo" class="level3">
<h3 class="anchored" data-anchor-id="métricas-del-modelo">Métricas del modelo</h3>
<div class="cell">
<div class="sourceCode cell-code" id="cb46"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb46-1"><a href="#cb46-1" aria-hidden="true" tabindex="-1"></a><span class="co">#se crea una data.frame/tibble de resultados conteniendo los valores actuales (truth) y los valores predichos del modelo como clases y probabilidades</span></span>
<span id="cb46-2"><a href="#cb46-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb46-3"><a href="#cb46-3" aria-hidden="true" tabindex="-1"></a>resultados <span class="ot">&lt;-</span> wbc_test <span class="sc">%&gt;%</span> <span class="fu">select</span>(diagnosis) <span class="sc">%&gt;%</span> </span>
<span id="cb46-4"><a href="#cb46-4" aria-hidden="true" tabindex="-1"></a>                <span class="fu">bind_cols</span>(clases_preds) <span class="sc">%&gt;%</span> </span>
<span id="cb46-5"><a href="#cb46-5" aria-hidden="true" tabindex="-1"></a>                <span class="fu">bind_cols</span>(prob_preds)</span>
<span id="cb46-6"><a href="#cb46-6" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb46-7"><a href="#cb46-7" aria-hidden="true" tabindex="-1"></a>resultados</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 142 × 4
   diagnosis .pred_class .pred_M .pred_B
   &lt;fct&gt;     &lt;fct&gt;         &lt;dbl&gt;   &lt;dbl&gt;
 1 M         M             1      0     
 2 M         M             1      0     
 3 M         M             0.955  0.0453
 4 M         M             0.965  0.0351
 5 M         M             0.836  0.164 
 6 M         M             1      0     
 7 M         M             1      0     
 8 M         M             1      0     
 9 M         M             1      0     
10 M         M             0.689  0.311 
# … with 132 more rows</code></pre>
</div>
</div>
<section id="matriz-de-confusión" class="level4">
<h4 class="anchored" data-anchor-id="matriz-de-confusión">Matriz de Confusión</h4>
<div class="cell">
<div class="sourceCode cell-code" id="cb48"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb48-1"><a href="#cb48-1" aria-hidden="true" tabindex="-1"></a><span class="fu">conf_mat</span>(resultados, <span class="at">truth =</span> diagnosis, <span class="at">estimate =</span> .pred_class) <span class="sc">%&gt;%</span> <span class="fu">autoplot</span>(<span class="st">"heatmap"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<p><img src="index_files/figure-html/unnamed-chunk-15-1.png" class="img-fluid" width="672"></p>
</div>
</div>
</section>
<section id="accurracy-área-bajo-la-curva-sensibilidad-y-especificidad" class="level4">
<h4 class="anchored" data-anchor-id="accurracy-área-bajo-la-curva-sensibilidad-y-especificidad">Accurracy , Área bajo la curva, sensibilidad y especificidad</h4>
<div class="cell">
<div class="sourceCode cell-code" id="cb49"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb49-1"><a href="#cb49-1" aria-hidden="true" tabindex="-1"></a>metricas_wbc <span class="ot">&lt;-</span> <span class="fu">metric_set</span>(accuracy, roc_auc, sens, specificity)</span>
<span id="cb49-2"><a href="#cb49-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb49-3"><a href="#cb49-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb49-4"><a href="#cb49-4" aria-hidden="true" tabindex="-1"></a><span class="fu">metricas_wbc</span>(resultados, <span class="at">truth =</span> diagnosis, <span class="at">estimate =</span> .pred_class, .pred_M)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 4 × 3
  .metric     .estimator .estimate
  &lt;chr&gt;       &lt;chr&gt;          &lt;dbl&gt;
1 accuracy    binary         0.972
2 sens        binary         0.925
3 specificity binary         1    
4 roc_auc     binary         0.997</code></pre>
</div>
</div>
</section>
</section>
<section id="curva-roc" class="level3">
<h3 class="anchored" data-anchor-id="curva-roc">Curva ROC</h3>
<p>Una <strong>curva ROC</strong> (acrónimo de <strong><em>Receiver Operating Characteristic</em></strong>, o Característica Operativa del Receptor) es una representación gráfica de la sensibilidad frente a la especificidad para un sistema clasificador <a href="https://es.wikipedia.org/wiki/Sistema_binario" title="Sistema binario">binario</a> según se varía el umbral de discriminación.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb51"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb51-1"><a href="#cb51-1" aria-hidden="true" tabindex="-1"></a><span class="fu">roc_curve</span>(resultados, <span class="at">truth =</span> diagnosis, <span class="at">estimate =</span> .pred_M) <span class="sc">%&gt;%</span> <span class="fu">autoplot</span>()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<p><img src="index_files/figure-html/unnamed-chunk-17-1.png" class="img-fluid" width="672"></p>
</div>
</div>
</section>
</section>
<section id="conclusiones" class="level2">
<h2 class="anchored" data-anchor-id="conclusiones">Conclusiones</h2>
<p>El algoritmo k-nearest neighbor (k-NN) es uno de los más simples y más utilizados en el aprendizaje automático. En este jemplo práctico se muestra una buena predicción del modelo, sin embargo, aunque es fácil de entender e implementar, tiene algunas desventajas:</p>
<p>El rendimiento del k-NN puede ser lento en grandes conjuntos de datos debido a la necesidad de almacenar todo el conjunto de datos y calcular la distancia para cada instancia de prueba durante la clasificación.</p>
<p>El k-NN es sensible a la escala de las características. Las características con una escala más grande tendrán un mayor peso en la distancia y, por lo tanto, tendrán un mayor impacto en la clasificación. Esto puede llevar a resultados no deseados si no se preprocesan adecuadamente los datos.</p>
<p>El k-NN no proporciona una forma de ajustar la complejidad del modelo. El valor de k se elige de forma empírica y no hay una manera de saber cuál es el mejor valor para k sin probar varios valores diferentes.</p>
<p>El k-NN es propenso a la interferencia de ruido en los datos. Las instancias de ruido o outliers pueden tener un gran impacto en los vecinos más cercanos y, por lo tanto, en la clasificación.</p>
<p>El k-NN no proporciona una representación explícita de los patrones en los datos. Aunque es útil para hacer predicciones, no proporciona una comprensión de cómo se realizan las prediccio.</p>
<p>Aquí usamos un criterio empírico paa elegir el valor de k vecinos, es importante considerar otras aproximaciones ya que la aproximación empírica se basa en la experiencia de ciertos conjunto de datos. Por otra parte se hizo una partición de los datos basados en un solo conjunto de entrenamiento y un conjunto de prueba; esto puede limitar el desarrollo del modelo por lo que es importante considerar otras aproximaciones que presentaremos en otra sección</p>
</section>
<section id="bibliografía" class="level2">
<h2 class="anchored" data-anchor-id="bibliografía">Bibliografía</h2>
<ol type="1">
<li><p><a href="https://es.wikipedia.org/wiki/Evelyn_Fix" title="Evelyn Fix">Fix</a>, E.; Hodges, J.L. (1989). «(1951): An Important Contribution to Nonparametric Discriminant Analysis and Density Estimation: Commentary on <a href="https://es.wikipedia.org/wiki/Evelyn_Fix" title="Evelyn Fix">Fix</a> and Hodges (1951)». <em>International Statistical Review / Revue Internationale de Statistique</em> <strong>57</strong> (3): 233-238. <a href="https://es.wikipedia.org/wiki/Digital_object_identifier" title="Digital object identifier">doi</a>:<a href="https://dx.doi.org/10.2307%2F1403796">10.2307/1403796</a>..</p></li>
<li><p><a href="https://es.wikipedia.org/wiki/K_vecinos_m%C3%A1s_pr%C3%B3ximos#cite_ref-2" title="Volver arriba">↑</a> Piryonesi, S. Madeh; El-Diraby, Tamer E. (2020-06). <a href="http://ascelibrary.org/doi/10.1061/JPEODX.0000175">«Role of Data Analytics in Infrastructure Asset Management: Overcoming Data Size and Quality Problems»</a>. <em>Journal of Transportation Engineering, Part B: Pavements</em> (en inglés) <strong>146</strong> (2): 04020022. <a href="https://es.wikipedia.org/wiki/ISSN" title="ISSN">ISSN</a>&nbsp;<a href="https://portal.issn.org/resource/issn/2573-5438">2573-5438</a>. <a href="https://es.wikipedia.org/wiki/Digital_object_identifier" title="Digital object identifier">doi</a>:<a href="https://dx.doi.org/10.1061%2FJPEODX.0000175">10.1061/JPEODX.0000175</a>. Consultado el 7 de agosto de 2020.</p></li>
<li><p><a href="https://es.wikipedia.org/wiki/K_vecinos_m%C3%A1s_pr%C3%B3ximos#cite_ref-3" title="Volver arriba">↑</a> Hastie, Trevor.; Friedman, J. H. (Jerome H.) (2001). <a href="https://www.worldcat.org/oclc/46809224"><em>The elements of statistical learning&nbsp;: data mining, inference, and prediction&nbsp;: with 200 full-color illustrations</em></a>. Springer. <a href="https://es.wikipedia.org/wiki/ISBN" title="ISBN">ISBN</a>&nbsp;<a href="https://es.wikipedia.org/wiki/Especial:FuentesDeLibros/0-387-95284-5" title="Especial:FuentesDeLibros/0-387-95284-5">0-387-95284-5</a>. <a href="https://es.wikipedia.org/wiki/OCLC" title="OCLC">OCLC</a>&nbsp;<a href="https://www.worldcat.org/oclc/46809224">46809224</a>. Consultado el 7 de agosto de 2020.</p></li>
<li><p>Kuhn, M., &amp; Silge, J. (2022). <em>Tidy Modeling with R</em>. ” O’Reilly Media, Inc.”.<a href="https://www.tidymodels.org/books/" class="uri">https://www.tidymodels.org/books/</a></p></li>
<li><p>Ismail Taha and Joydeep Ghosh. <a href="http://rexa.info/paper/9f9df113476ffbf356892bb497bd2714e6f56d99">Characterization of the Wisconsin Breast cancer Database Using a Hybrid Symbolic-Connectionist System</a>. Proceedings of ANNIE. 1996</p></li>
</ol>


</section>

</main> <!-- /main -->
<script id="quarto-html-after-body" type="application/javascript">
window.document.addEventListener("DOMContentLoaded", function (event) {
  const toggleBodyColorMode = (bsSheetEl) => {
    const mode = bsSheetEl.getAttribute("data-mode");
    const bodyEl = window.document.querySelector("body");
    if (mode === "dark") {
      bodyEl.classList.add("quarto-dark");
      bodyEl.classList.remove("quarto-light");
    } else {
      bodyEl.classList.add("quarto-light");
      bodyEl.classList.remove("quarto-dark");
    }
  }
  const toggleBodyColorPrimary = () => {
    const bsSheetEl = window.document.querySelector("link#quarto-bootstrap");
    if (bsSheetEl) {
      toggleBodyColorMode(bsSheetEl);
    }
  }
  toggleBodyColorPrimary();  
  const icon = "";
  const anchorJS = new window.AnchorJS();
  anchorJS.options = {
    placement: 'right',
    icon: icon
  };
  anchorJS.add('.anchored');
  const clipboard = new window.ClipboardJS('.code-copy-button', {
    target: function(trigger) {
      return trigger.previousElementSibling;
    }
  });
  clipboard.on('success', function(e) {
    // button target
    const button = e.trigger;
    // don't keep focus
    button.blur();
    // flash "checked"
    button.classList.add('code-copy-button-checked');
    var currentTitle = button.getAttribute("title");
    button.setAttribute("title", "Copied!");
    let tooltip;
    if (window.bootstrap) {
      button.setAttribute("data-bs-toggle", "tooltip");
      button.setAttribute("data-bs-placement", "left");
      button.setAttribute("data-bs-title", "Copied!");
      tooltip = new bootstrap.Tooltip(button, 
        { trigger: "manual", 
          customClass: "code-copy-button-tooltip",
          offset: [0, -8]});
      tooltip.show();    
    }
    setTimeout(function() {
      if (tooltip) {
        tooltip.hide();
        button.removeAttribute("data-bs-title");
        button.removeAttribute("data-bs-toggle");
        button.removeAttribute("data-bs-placement");
      }
      button.setAttribute("title", currentTitle);
      button.classList.remove('code-copy-button-checked');
    }, 1000);
    // clear code selection
    e.clearSelection();
  });
  function tippyHover(el, contentFn) {
    const config = {
      allowHTML: true,
      content: contentFn,
      maxWidth: 500,
      delay: 100,
      arrow: false,
      appendTo: function(el) {
          return el.parentElement;
      },
      interactive: true,
      interactiveBorder: 10,
      theme: 'quarto',
      placement: 'bottom-start'
    };
    window.tippy(el, config); 
  }
  const noterefs = window.document.querySelectorAll('a[role="doc-noteref"]');
  for (var i=0; i<noterefs.length; i++) {
    const ref = noterefs[i];
    tippyHover(ref, function() {
      // use id or data attribute instead here
      let href = ref.getAttribute('data-footnote-href') || ref.getAttribute('href');
      try { href = new URL(href).hash; } catch {}
      const id = href.replace(/^#\/?/, "");
      const note = window.document.getElementById(id);
      return note.innerHTML;
    });
  }
  const findCites = (el) => {
    const parentEl = el.parentElement;
    if (parentEl) {
      const cites = parentEl.dataset.cites;
      if (cites) {
        return {
          el,
          cites: cites.split(' ')
        };
      } else {
        return findCites(el.parentElement)
      }
    } else {
      return undefined;
    }
  };
  var bibliorefs = window.document.querySelectorAll('a[role="doc-biblioref"]');
  for (var i=0; i<bibliorefs.length; i++) {
    const ref = bibliorefs[i];
    const citeInfo = findCites(ref);
    if (citeInfo) {
      tippyHover(citeInfo.el, function() {
        var popup = window.document.createElement('div');
        citeInfo.cites.forEach(function(cite) {
          var citeDiv = window.document.createElement('div');
          citeDiv.classList.add('hanging-indent');
          citeDiv.classList.add('csl-entry');
          var biblioDiv = window.document.getElementById('ref-' + cite);
          if (biblioDiv) {
            citeDiv.innerHTML = biblioDiv.innerHTML;
          }
          popup.appendChild(citeDiv);
        });
        return popup.innerHTML;
      });
    }
  }
});
</script>
</div> <!-- /content -->



</body></html>